---
- name: vérifier dépendances
  sudo: yes
  apt:
    name: {{ item }} 
    state: present
  with_items:
    - apt-transport-https 
    - ca-certificates
    - curl
    - software-properties-common


- name: add deb repo
  sudo: yes
  file:  
    path: /etc/apt/sources.list.d/docker.list
    state: touch

- lineinfile: dest="/etc/apt/sources.list.d/docker.list" line="{{item}}"
  with_items:
    - "deb https://apt.dockerproject.org/repo ubuntu-trusty main"

- name: apt update
  sudo: yes
  apt: update_cache=yes

- name: installation docker
  sudo: yes
  apt: 
    name: docker-ce
    state: present

- name: installation docker compose
  get_url:
    url:  https://github.com/docker/compose/releases/download/1.17.0/docker-compose-`uname -s`-`uname -m`
    dest: /usr/local/bin/docker-compose
    mode: "+x"

- name: recupérer repo git

